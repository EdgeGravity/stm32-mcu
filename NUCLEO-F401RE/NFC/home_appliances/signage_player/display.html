<!DOCTYPE html>
<html>
<head>
  <title>Display</title>
  <meta name="mobile-web-app-capable" content="yes">
  <link href="css/display.css" rel="stylesheet" type="text/css">
  <script src="https://jp.vuejs.org/js/vue.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
  <div id="app">
    <img id="image" v-bind:src="src">
  </div>
  
  <script>
  let app = new Vue({
    el: '#app',
    data: {
      src: ''
    }
  });

  app.src = './images/korean_noodles1.jpg'
  </script>
 
<script>
  const host = window.location.hostname;
  const INTERVAL = 10 * 1000;
  const url_base = 'https://' + host + ':10444/signage?trn=';

  let turn = 0;

  function showImages() {

    switch (turn) {
      case 0:
        app.src = './images/korean_noodles1.jpg';
        axios.post(url_base + '0');
        break;
      case 1:
        app.src = './images/korean_noodles2.jpg';
        axios.post(url_base + '1');
        break;
      default:
        break;
    }
    console.log(turn);

    turn++;
    if (turn > 1) {
      turn = 0;
    }
  }

  setInterval(showImages, INTERVAL);

</script>
</body>

</html>

