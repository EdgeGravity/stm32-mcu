# DCT Type-II Implementation on CMSIS-DSP

DCT Type-II is used for calculating MFCCs and image compression in my other projects.

Since CMSIS-DSP does not support DCT Type-II, I have developed it on my own.

I have also developed 2D-version of DCT Type-II for 2D image pre-processing.

- [header file](./stm32/Inc/dct.h)
- [source file](./stm32/Src/dct.c)

This implementation includes a zigzag scan utility function.

Note:
- This implementation is based on CMSIS-DSP.
- This implementation supports **norm="ortho"** only. Refer to [scipy.fftpack.dct](https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.fftpack.dct.html).

Test result:
```
**** START *********
>> DCT
[0] 5.7
[1] -2.7
[2] -1.3
[3] 1.6
[4] 0.0
[5] 0.5
[6] 0.5
[7] -0.0
>> inverse DCT
[0] 1.0
[1] -0.0
[2] 1.0
[3] 2.0
[4] 3.0
[5] 4.0
[6] 3.0
[7] 2.0
>> DCT 2D
[0] 16.0
[1] 1.4
[2] 0.8
[3] 9.4
[4] 5.5
[5] 0.9
[6] 0.7
[7] -2.8
[8] -0.4
[9] -6.9
[10] -2.3
[11] -2.4
[12] -3.8
[13] 1.3
[14] -0.4
[15] 2.1
[16] 1.1
[17] -1.9
[18] -0.1
[19] 0.8
[20] 0.9
[21] -0.3
[22] 0.5
[23] -0.5
[24] 0.3
[25] 2.6
[26] -0.9
[27] -2.4
[28] -2.0
[29] -0.1
[30] 0.1
[31] 1.0
[32] -2.5
[33] 0.7
[34] 0.2
[35] 0.5
[36] 1.0
[37] -0.6
[38] 0.5
[39] -0.6
[40] 2.9
[41] 0.0
[42] -0.7
[43] -1.3
[44] -1.3
[45] 0.1
[46] 0.0
[47] 0.7
[48] -2.6
[49] -4.1
[50] 1.0
[51] 3.6
[52] 3.4
[53] -0.5
[54] 0.6
[55] -1.9
[56] 1.2
[57] 5.4
[58] -1.0
[59] -3.9
[60] -3.3
[61] 0.1
[62] -0.3
[63] 1.8
>> inverse DCT 2D
[0] 1.0
[1] -0.0
[2] 1.0
[3] 2.0
[4] 3.0
[5] 4.0
[6] 3.0
[7] 2.0
[8] 2.0
[9] -0.0
[10] 0.0
[11] 2.0
[12] 3.0
[13] 4.0
[14] 4.0
[15] 2.0
[16] 3.0
[17] -0.0
[18] -1.0
[19] 2.0
[20] 3.0
[21] 4.0
[22] 3.0
[23] 2.0
[24] 4.0
[25] -0.0
[26] -2.0
[27] 2.0
[28] 3.0
[29] 4.0
[30] 2.0
[31] 2.0
[32] 5.0
[33] 4.0
[34] 3.0
[35] 2.0
[36] 1.0
[37] -0.0
[38] -1.0
[39] -2.0
[40] 6.0
[41] 0.0
[42] -4.0
[43] 2.0
[44] 3.0
[45] 4.0
[46] 0.0
[47] 2.0
[48] 7.0
[49] 6.0
[50] 5.0
[51] 4.0
[52] 3.0
[53] 2.0
[54] 1.0
[55] 0.0
[56] 8.0
[57] 0.0
[58] -6.0
[59] 2.0
[60] 3.0
[61] 4.0
[62] -2.0
[63] 2.0
>> Zigzag scan even
[0] 1.0
[1] 2.0
[2] 3.0
[3] 4.0
[4] 5.0
[5] 6.0
[6] 7.0
[7] 8.0
[8] 9.0
[9] 10.0
[10] 11.0
[11] 12.0
[12] 13.0
[13] 14.0
[14] 15.0
[15] 16.0
[16] 17.0
[17] 18.0
[18] 19.0
[19] 20.0
[20] 21.0
[21] 22.0
[22] 23.0
[23] 24.0
[24] 25.0
[25] 26.0
[26] 27.0
[27] 28.0
[28] 29.0
[29] 30.0
[30] 31.0
[31] 32.0
[32] 33.0
[33] 34.0
[34] 35.0
[35] 36.0
[36] 37.0
[37] 38.0
[38] 39.0
[39] 40.0
[40] 41.0
[41] 42.0
[42] 43.0
[43] 44.0
[44] 45.0
[45] 46.0
[46] 47.0
[47] 48.0
[48] 49.0
[49] 50.0
[50] 51.0
[51] 52.0
[52] 53.0
[53] 54.0
[54] 55.0
[55] 56.0
[56] 57.0
[57] 58.0
[58] 59.0
[59] 60.0
[60] 61.0
[61] 62.0
[62] 63.0
[63] 64.0
>> Zigzag scan odd
[0] 1.0
[1] 2.0
[2] 3.0
[3] 4.0
[4] 5.0
[5] 6.0
[6] 7.0
[7] 8.0
[8] 9.0
[9] 10.0
[10] 11.0
[11] 12.0
[12] 13.0
[13] 14.0
[14] 15.0
[15] 16.0
[16] 17.0
[17] 18.0
[18] 19.0
[19] 20.0
[20] 21.0
[21] 22.0
[22] 23.0
[23] 24.0
[24] 25.0
[25] 26.0
[26] 27.0
[27] 28.0
[28] 29.0
[29] 30.0
[30] 31.0
[31] 32.0
[32] 33.0
[33] 34.0
[34] 35.0
[35] 36.0
[36] 37.0
[37] 38.0
[38] 39.0
[39] 40.0
[40] 41.0
[41] 42.0
[42] 43.0
[43] 44.0
[44] 45.0
[45] 46.0
[46] 47.0
[47] 48.0
[48] 49.0
```
## References

- [よくわかる信号処理](https://www.kinokuniya.co.jp/f/dsg-08-EK-0410603)
- [CMSIS-DSP](http://www.keil.com/pack/doc/CMSIS/DSP/html/index.html)
